{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Mike/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Mike/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Mike/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{NavLink}from\"react-router-dom\";import findUser from\"../../../axios-api\";import AudioPlayer from\"../meetstructure/AudioPlayer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function People(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),userList=_useState2[0],setUserList=_useState2[1];var getUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return findUser.get('/users');case 3:response=_context.sent;data=response.data;setUserList(data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function getUsers(){return _ref.apply(this,arguments);};}();useEffect(function(){var isCancelled=false;if(!isCancelled){getUsers();console.log(\"users got\");}return function(){isCancelled=true;};},[]);var userDisplay=userList===null||userList===void 0?void 0:userList.map(function(user){return user.email!=null&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile-photo\",src:user.photo,alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"user-name-country\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/profile/\".concat(user._id),className:\"nav-link\",children:/*#__PURE__*/_jsx(\"div\",{className:\"user-tag\",children:/*#__PURE__*/_jsx(\"li\",{children:user.name})})})})]},user._id);});var displaySongs=userList?userList.map(function(item){var _item$topTrack,_item$topTrack2,_item$topTrack3,_item$topTrack4;return item.email!=null&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavLink,{to:\"/profile/\".concat(item._id),className:\"nav-link\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-tag\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.photo,className:\"meet-header-photo\",alt:\"\"}),item.name]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"track\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"my-top-five-album-cover\",src:(_item$topTrack=item.topTrack)===null||_item$topTrack===void 0?void 0:_item$topTrack.albumCover,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"song-info\",children:[/*#__PURE__*/_jsx(AudioPlayer,{preview:(_item$topTrack2=item.topTrack)===null||_item$topTrack2===void 0?void 0:_item$topTrack2.preview,songName:(_item$topTrack3=item.topTrack)===null||_item$topTrack3===void 0?void 0:_item$topTrack3.song,artist:(_item$topTrack4=item.topTrack)===null||_item$topTrack4===void 0?void 0:_item$topTrack4.artist}),/*#__PURE__*/_jsx(\"div\",{})]})]})]},item._id);}):/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});var loadingPeople=/*#__PURE__*/_jsx(\"div\",{className:\"display-container\",children:[0,1,2,3,4,5,6,7,8,9].map(function(i,index){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile-photo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"user-name-country\",children:/*#__PURE__*/_jsx(\"li\",{className:\"loading-tag\"})})]},index);})});return/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"general-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"general-container-title\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Top People\"})}),/*#__PURE__*/_jsx(\"div\",{className:userList&&userList.length<5?\"left-container\":\"display-container\",children:userList?userDisplay:loadingPeople})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"general-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"general-container-title\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Top Songs on MelodyMeet\"})}),/*#__PURE__*/_jsx(\"div\",{className:userList&&userList.length<5?\"left-container\":\"display-container\",children:userList?displaySongs:loadingPeople})]})]});}","map":{"version":3,"names":["React","useEffect","useState","NavLink","findUser","AudioPlayer","People","userList","setUserList","getUsers","get","response","data","console","log","isCancelled","userDisplay","map","user","email","photo","_id","name","displaySongs","item","topTrack","albumCover","preview","song","artist","loadingPeople","i","index","length"],"sources":["C:/Users/Mike/my-app/client/src/components/pages/meetpages/People.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport {NavLink } from \"react-router-dom\"\r\nimport findUser from \"../../../axios-api\"\r\nimport AudioPlayer from \"../meetstructure/AudioPlayer\"\r\n\r\n\r\nexport default function People(){\r\n\r\n    const [userList, setUserList] = useState(null)\r\n\r\n    const getUsers = async () => {\r\n        try{\r\n            const response = await findUser.get('/users')\r\n            const data = response.data\r\n            setUserList(data)\r\n\r\n        }\r\n        catch (error){\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        let isCancelled=false\r\n        if(!isCancelled){\r\n            getUsers()\r\n            console.log(\"users got\")\r\n        }\r\n\r\n        return ()=>{\r\n            isCancelled=true\r\n        }\r\n        \r\n\r\n    }, [])\r\n\r\n\r\n\r\n\r\n    const userDisplay = userList?.map((user) => {\r\n         \r\n       return(\r\n        user.email!=null &&\r\n       <div key={user._id}>\r\n           <img className=\"profile-photo\" src={user.photo} alt=\"\"/>\r\n            <div className=\"user-name-country\">\r\n            <NavLink to={`/profile/${user._id}`} className=\"nav-link\">\r\n                <div className=\"user-tag\">\r\n                    <li>{user.name}</li></div>\r\n                </NavLink>\r\n            </div>\r\n\r\n        </div>\r\n       )\r\n    }\r\n    )\r\n    \r\n\r\n    const displaySongs = \r\n\r\n    (\r\n    \r\n    userList ? userList.map((item) => {\r\n    return(\r\n        item.email!=null &&\r\n\r\n        <div key={item._id}>\r\n            <NavLink to={`/profile/${item._id}`} className=\"nav-link\">\r\n                <div className=\"user-tag\">\r\n                    <img src={item.photo} className=\"meet-header-photo\" alt=\"\"/>\r\n                    {item.name}\r\n                </div>\r\n            </NavLink>\r\n\r\n            <div className=\"track\">\r\n                <img className=\"my-top-five-album-cover\" src={item.topTrack?.albumCover} alt=\"\"/>\r\n                    <div className=\"song-info\">\r\n                        <AudioPlayer \r\n                        preview={item.topTrack?.preview}\r\n                        songName={item.topTrack?.song}\r\n                        artist={item.topTrack?.artist}\r\n                        />\r\n                        <div>\r\n                            \r\n                        </div>\r\n                    </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n)\r\n:\r\n<div>\r\n    Loading...\r\n</div>\r\n\r\n)\r\n\r\n    const loadingPeople = (\r\n        <div className=\"display-container\">\r\n            {[0,1,2,3,4,5,6,7,8,9].map((i, index) => {\r\n                return(\r\n                    <div key={index}>\r\n                        <img className=\"profile-photo\"/>\r\n                        <div className=\"user-name-country\">\r\n                            <li className=\"loading-tag\"></li>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n    \r\n            )\r\n    }\r\n        </div>\r\n    )\r\n    \r\n    return(\r\n        <div className=\"page\">\r\n            <div className=\"general-container\">\r\n                <div className=\"general-container-title\">\r\n                    <p>Top People</p>\r\n                </div>\r\n                <div className={(userList && userList.length<5) ? \"left-container\" : \"display-container\"}>\r\n                    {userList ? userDisplay : loadingPeople} \r\n                </div>\r\n            </div>\r\n            <div className=\"general-container\">\r\n            <div className=\"general-container-title\">\r\n\r\n                <p>Top Songs on MelodyMeet</p>\r\n            </div>\r\n            <div className={(userList && userList.length<5) ? \"left-container\" : \"display-container\"}>\r\n                {userList ? displaySongs : loadingPeople}\r\n            </div>\r\n        </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}